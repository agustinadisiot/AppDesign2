(self.webpackChunkbug_manager=self.webpackChunkbug_manager||[]).push([[333],{6333:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AdminModule:()=>re});var o=s(8583),n=s(3472),r=s(4249),i=s(3679),a=s(7716),c=s(5894),l=s(2340),u=s(7749),p=s(1841);let d=(()=>{class e{constructor(e){this.http=e,this.endpoint=`${l.N.webApi_origin}/bugs/import/xml`,this.options={headers:{token:"",path:""}}}importBugs(e){return this.options.headers.token=localStorage.getItem("token")||"",this.options.headers.path=e,this.http.post(this.endpoint,{},this.options).pipe((0,c.K)(u.k.handleError))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(p.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=s(9098),g=s(6802),h=s(7935);const f=function(){return["../bug-import-custom"]};let v=(()=>{class e{constructor(e){this.service=e,this.showCancelButton=!1,this.loading=!1,this.infoMessage={error:!0,text:""},this.form=new i.cw({path:new i.NI("",[i.kI.required])})}ngOnInit(){}save(){this.loading=!0,this.service.importBugs(this.path).subscribe(e=>{this.loading=!1,this.infoMessage.error=!1,this.infoMessage.text="Bugs  imported successfully",this.form.reset(),this.form.markAsUntouched()},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(d))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-classic-import"]],decls:12,vars:8,consts:[["title","Import Bugs - Classic",3,"showCancelButton","form","infoMessage","loading","save"],[3,"formGroup","keydown.enter"],["appearance","fill",1,"full-width"],["matInput","","formControlName","path","required","","placeholder","Ex. C:/XMLFiles/bugimport-10-11-2021.xml",3,"ngModel","ngModelChange"],["title","Custom bug importation page",3,"routerLink"]],template:function(e,t){1&e&&(a.TgZ(0,"app-generic-form",0),a.NdJ("save",function(){return t.save()}),a.TgZ(1,"p"),a._uU(2,"Bug importation for xml files"),a.qZA(),a.TgZ(3,"form",1),a.NdJ("keydown.enter",function(){return t.save()}),a.TgZ(4,"mat-form-field",2),a.TgZ(5,"mat-label"),a._uU(6,"Enter path to file"),a.qZA(),a.TgZ(7,"input",3),a.NdJ("ngModelChange",function(e){return t.path=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"p"),a._uU(9,"For more importation formats, please go to "),a.TgZ(10,"a",4),a._uU(11,"Bug Import Custom"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("showCancelButton",t.showCancelButton)("form",t.form)("infoMessage",t.infoMessage)("loading",t.loading),a.xp6(3),a.Q6J("formGroup",t.form),a.xp6(4),a.Q6J("ngModel",t.path),a.xp6(3),a.Q6J("routerLink",a.DdM(7,f)))},directives:[m.t,i._Y,i.JL,i.sg,g.KE,g.hX,h.Nt,i.Fj,i.JJ,i.u,i.Q7,n.yS],styles:[".full-width[_ngcontent-%COMP%]{display:block;width:100%;margin:0 auto}"]}),e})(),b=(()=>{class e{constructor(e){this.http=e,this.options={headers:{token:""}}}createUser(e,t){return this.endpoint=`${l.N.webApi_origin}/${t}s`,this.options.headers.token=localStorage.getItem("token")||"",this.http.post(this.endpoint,e,this.options).pipe((0,c.K)(u.k.handleError))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(p.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=s(6652),y=s(692),j=s(2813),w=s(2964);function C(e,t){if(1&e&&(a.TgZ(0,"mat-option",12),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.Q6J("value",e.value),a.xp6(1),a.Oqu(e.viewValue)}}function M(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"mat-form-field",2),a.TgZ(1,"mat-label"),a._uU(2,"Cost"),a.qZA(),a.TgZ(3,"input",13),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().user.cost=t}),a.qZA(),a.TgZ(4,"span",14),a._uU(5,"$\xa0"),a.qZA(),a.TgZ(6,"span",15),a._uU(7,"/hr"),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.xp6(3),a.Q6J("ngModel",e.user.cost)}}let A=(()=>{class e{constructor(e){this.service=e,this.showCancelButton=!1,this.loading=!1,this.infoMessage={error:!0,text:""},this.user={username:"",name:"",lastname:"",email:"",password:"",cost:0},this.hidePassword=!0,this.roles=[{value:"admin",viewValue:"Admin"},{value:"tester",viewValue:"Tester"},{value:"dev",viewValue:"Developer"}],this.role=this.roles[0].value,this.form=new i.cw({username:new i.NI("",[i.kI.required]),name:new i.NI("",[i.kI.required]),lastname:new i.NI("",[i.kI.required]),email:new i.NI("",[i.kI.email]),cost:new i.NI("",[i.kI.min(0)]),password:new i.NI("",[i.kI.required])})}ngOnInit(){}save(){this.loading=!0,this.service.createUser(this.user,this.role).subscribe(e=>{this.loading=!1,this.infoMessage.error=!1,this.infoMessage.text=`User ${this.user.username} added successfully`,this.form.reset(),this.form.markAsUntouched()},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(b))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-create-user"]],decls:31,vars:17,consts:[["title","Create new user",3,"showCancelButton","form","infoMessage","loading","save"],[3,"formGroup","keydown.enter"],["appearance","fill",1,"full-width"],["matInput","","formControlName","username","required","","placeholder","Ex. johnSmith",3,"ngModel","ngModelChange"],["matInput","","formControlName","name","required","","placeholder","Ex. John",3,"ngModel","ngModelChange"],["matInput","","formControlName","lastname","required","","placeholder","Ex. Smith",3,"ngModel","ngModelChange"],["matInput","","formControlName","email","required","","placeholder","Ex. john@example.com",3,"ngModel","ngModelChange"],["matInput","","formControlName","password","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill","class","full-width",4,"ngIf"],[3,"value"],["matInput","","formControlName","cost","type","number","min","1","max","999","required","","placeholder","1",3,"ngModel","ngModelChange"],["matPrefix",""],["matSuffix",""]],template:function(e,t){1&e&&(a.TgZ(0,"app-generic-form",0),a.NdJ("save",function(){return t.save()}),a.TgZ(1,"form",1),a.NdJ("keydown.enter",function(){return t.save()}),a.TgZ(2,"mat-form-field",2),a.TgZ(3,"mat-label"),a._uU(4,"Enter username"),a.qZA(),a.TgZ(5,"input",3),a.NdJ("ngModelChange",function(e){return t.user.username=e}),a.qZA(),a.qZA(),a.TgZ(6,"mat-form-field",2),a.TgZ(7,"mat-label"),a._uU(8,"Enter name"),a.qZA(),a.TgZ(9,"input",4),a.NdJ("ngModelChange",function(e){return t.user.name=e}),a.qZA(),a.qZA(),a.TgZ(10,"mat-form-field",2),a.TgZ(11,"mat-label"),a._uU(12,"Enter lastame"),a.qZA(),a.TgZ(13,"input",5),a.NdJ("ngModelChange",function(e){return t.user.lastname=e}),a.qZA(),a.qZA(),a.TgZ(14,"mat-form-field",2),a.TgZ(15,"mat-label"),a._uU(16,"Enter email"),a.qZA(),a.TgZ(17,"input",6),a.NdJ("ngModelChange",function(e){return t.user.email=e}),a.qZA(),a.qZA(),a.TgZ(18,"mat-form-field",2),a.TgZ(19,"mat-label"),a._uU(20,"Enter password"),a.qZA(),a.TgZ(21,"input",7),a.NdJ("ngModelChange",function(e){return t.user.password=e}),a.qZA(),a.TgZ(22,"button",8),a.NdJ("click",function(){return t.hidePassword=!t.hidePassword}),a.TgZ(23,"mat-icon"),a._uU(24),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"mat-form-field",2),a.TgZ(26,"mat-label"),a._uU(27,"Choose role"),a.qZA(),a.TgZ(28,"mat-select",9),a.NdJ("valueChange",function(e){return t.role=e}),a.YNc(29,C,2,2,"mat-option",10),a.qZA(),a.qZA(),a.YNc(30,M,8,1,"mat-form-field",11),a.qZA(),a.qZA()),2&e&&(a.Q6J("showCancelButton",t.showCancelButton)("form",t.form)("infoMessage",t.infoMessage)("loading",t.loading),a.xp6(1),a.Q6J("formGroup",t.form),a.xp6(4),a.Q6J("ngModel",t.user.username),a.xp6(4),a.Q6J("ngModel",t.user.name),a.xp6(4),a.Q6J("ngModel",t.user.lastname),a.xp6(4),a.Q6J("ngModel",t.user.email),a.xp6(4),a.Q6J("type",t.hidePassword?"password":"text")("ngModel",t.user.password),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",t.hidePassword),a.xp6(2),a.Oqu(t.hidePassword?"visibility_off":"visibility"),a.xp6(4),a.Q6J("value",t.role),a.xp6(1),a.Q6J("ngForOf",t.roles),a.xp6(1),a.Q6J("ngIf","dev"==t.role||"tester"==t.role))},directives:[m.t,i._Y,i.JL,i.sg,g.KE,g.hX,h.Nt,i.Fj,i.JJ,i.u,i.Q7,Z.lW,g.R9,y.Hw,j.gD,o.sg,o.O5,w.ey,i.wV,i.qQ,i.Fd,g.qo],styles:[".full-width[_ngcontent-%COMP%]{display:block;width:95%;margin:3% auto 0}"]}),e})();var T=(()=>(function(e){e[e.String=0]="String",e[e.Integer=1]="Integer"}(T||(T={})),T))();let q=(()=>{class e{constructor(e){this.http=e,this.endpoint=`${l.N.webApi_origin}/bugs/custom-importers`,this.options={headers:{token:"",path:""}}}importBugs(e){return this.options.headers.token=localStorage.getItem("token")||"",this.http.post(this.endpoint,e,this.options).pipe((0,c.K)(u.k.handleError))}getImportersInfo(){return this.options.headers.token=localStorage.getItem("token")||"",this.http.get(this.endpoint,this.options).pipe((0,c.K)(u.k.handleError))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(p.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function I(e,t){if(1&e&&(a.TgZ(0,"mat-option",7),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij("",e.importerName," ")}}function x(e,t){if(1&e){const e=a.EpF();a.ynx(0),a.TgZ(1,"mat-form-field",2),a.TgZ(2,"mat-label"),a._uU(3),a.qZA(),a.TgZ(4,"input",9),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().$implicit.value=t}),a.qZA(),a.qZA(),a.BQk()}if(2&e){const e=a.oxw().$implicit;a.xp6(3),a.hij("Enter ",e.name.toLowerCase(),""),a.xp6(1),a.s9C("formControlName",e.name),a.Q6J("ngModel",e.value)}}function P(e,t){if(1&e){const e=a.EpF();a.ynx(0),a.TgZ(1,"mat-form-field",2),a.TgZ(2,"mat-label"),a._uU(3),a.qZA(),a.TgZ(4,"input",10),a.NdJ("ngModelChange",function(t){return a.CHM(e),a.oxw().$implicit.valueOriginType=t}),a.qZA(),a.qZA(),a.BQk()}if(2&e){const e=a.oxw().$implicit;a.xp6(3),a.hij("Enter ",e.name.toLowerCase()," (Numbers only)"),a.xp6(1),a.s9C("formControlName",e.name),a.Q6J("ngModel",e.valueOriginType)}}function J(e,t){if(1&e&&(a.ynx(0),a.TgZ(1,"p"),a._uU(2),a.qZA(),a.YNc(3,x,5,3,"ng-container",5),a.YNc(4,P,5,3,"ng-container",5),a.BQk()),2&e){const e=t.$implicit,s=a.oxw(2);a.xp6(2),a.Oqu(e.name),a.xp6(1),a.Q6J("ngIf",e.type==s.paramTypes.String),a.xp6(1),a.Q6J("ngIf",e.type==s.paramTypes.Integer)}}function N(e,t){if(1&e&&(a.ynx(0),a.YNc(1,J,5,3,"ng-container",8),a.BQk()),2&e){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.importer.params)}}const k=function(){return["../bug-import-classic"]};let Q=(()=>{class e{constructor(e){this.service=e,this.showCancelButton=!1,this.loading=!1,this.infoMessage={error:!0,text:""},this.form=new i.cw({}),this.selectedImporterControl=new i.NI("",i.kI.required),this.importers=[],this.paramTypes=T}ngOnInit(){this.getImportersInfo()}updateSelectedImported(){this.infoMessage.text="",this.importer=this.selectedImporterControl.value,null!=this.importer?(this.form.setErrors(null),this.form=new i.cw({}),this.importer.params.forEach(e=>{this.form.addControl(e.name,new i.NI("",[i.kI.required]))})):this.form.setErrors({invalid:!0})}getImportersInfo(){this.loading=!0,this.service.getImportersInfo().subscribe(e=>{this.loading=!1,this.importers=e},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}save(){this.loading=!0,this.convertValuesToString(),this.service.importBugs(this.importer).subscribe(e=>{this.loading=!1,this.infoMessage.error=!1,this.infoMessage.text="Bugs imported successfully",this.form.reset(),this.form.markAsUntouched()},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}convertValuesToString(){this.importer.params.forEach(e=>{null==e.value&&(e.value=String(e.valueOriginType))})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(q))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-custom-import"]],decls:16,vars:10,consts:[["title","Import Bugs - Custom",3,"showCancelButton","form","infoMessage","loading","save"],[3,"formGroup","keydown.enter"],["appearance","fill",1,"full-width"],["required","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["title","Classic bug importation page",3,"routerLink"],[3,"value"],[4,"ngFor","ngForOf"],["matInput","","required","",3,"ngModel","formControlName","ngModelChange"],["matInput","","type","number","required","",3,"ngModel","formControlName","ngModelChange"]],template:function(e,t){1&e&&(a.TgZ(0,"app-generic-form",0),a.NdJ("save",function(){return t.save()}),a.TgZ(1,"form",1),a.NdJ("keydown.enter",function(){return t.save()}),a.TgZ(2,"p"),a._uU(3,"Please select the importer below"),a.qZA(),a.TgZ(4,"mat-form-field",2),a.TgZ(5,"mat-label"),a._uU(6,"Choose importer"),a.qZA(),a.TgZ(7,"mat-select",3),a.NdJ("selectionChange",function(){return t.updateSelectedImported()}),a.TgZ(8,"mat-option"),a._uU(9,"None"),a.qZA(),a.YNc(10,I,2,2,"mat-option",4),a.qZA(),a.qZA(),a.YNc(11,N,2,1,"ng-container",5),a.qZA(),a.TgZ(12,"p"),a._uU(13,"For the original xml bug importer please go to "),a.TgZ(14,"a",6),a._uU(15,"Bug Import Classic"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("showCancelButton",t.showCancelButton)("form",t.form)("infoMessage",t.infoMessage)("loading",t.loading),a.xp6(1),a.Q6J("formGroup",t.form),a.xp6(6),a.Q6J("formControl",t.selectedImporterControl),a.xp6(3),a.Q6J("ngForOf",t.importers),a.xp6(1),a.Q6J("ngIf",null!=t.importer),a.xp6(3),a.Q6J("routerLink",a.DdM(9,k)))},directives:[m.t,i._Y,i.JL,i.sg,g.KE,g.hX,j.gD,i.Q7,i.JJ,i.oH,w.ey,o.sg,o.O5,n.yS,h.Nt,i.Fj,i.u,i.wV],styles:[".full-width[_ngcontent-%COMP%]{display:block;width:100%;margin:0 auto}"]}),e})();var _=s(4875),S=s(8069),B=s(7135),O=s(2918);let U=(()=>{class e{constructor(e){this.devService=e,this.dataSource=[],this.buttonsColumns=[],this.buttonsActions=new Map([]),this.loading=!0,this.columns=[{header:"Username",property:"username",display:_.s.id,type:S.Q.Object},{header:"Name",property:"name",display:_.s.id,type:S.Q.Object},{header:"Lastname",property:"lastname",display:_.s.id,type:S.Q.Object},{header:"Email",property:"email",display:_.s.id,type:S.Q.Object},{header:"Cost",property:"cost",display:_.s.CostPerHour,type:S.Q.Object},{header:"Bugs Resolved",property:"bugsResolved",display:_.s.id,type:S.Q.Object}]}ngOnInit(){this.declareButtonsInHeader(),this.devService.getDevelopers().subscribe(e=>{this.loading=!1,this.dataSource=e},e=>{this.loading=!1})}declareButtonsInHeader(){this.buttonsColumns.forEach(e=>{this.columns.push(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(B.k))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-devs-scoreboard"]],inputs:{dataSource:"dataSource",buttonsColumns:"buttonsColumns",buttonsActions:"buttonsActions"},decls:1,vars:4,consts:[[3,"columns","dataSource","buttonsActions","loading"]],template:function(e,t){1&e&&a._UZ(0,"app-generic-table",0),2&e&&a.Q6J("columns",t.columns)("dataSource",t.dataSource)("buttonsActions",t.buttonsActions)("loading",t.loading)},directives:[O.p],styles:[""]}),e})();var Y=s(434),E=s(354),F=s(8703);let D=(()=>{class e{constructor(){this.columns=[{header:"N\xba",property:"id",display:_.s.id,type:S.Q.Object},{header:"Name",property:"name",display:_.s.id,type:S.Q.Object},{header:"Total cost",property:"totalCost",display:_.s.TotalCost,type:S.Q.Object},{header:"Total duration (hr.)",property:"totalDuration",display:_.s.id,type:S.Q.Object},{header:"Total bugs quantity",property:"bugsQuantity",display:_.s.id,type:S.Q.Object}]}ngOnInit(){this.declareButtonsInHeader()}declareButtonsInHeader(){this.buttonsColumns.forEach(e=>{this.columns.push(e)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-projects-table"]],inputs:{dataSource:"dataSource",loading:"loading",buttonsColumns:"buttonsColumns",buttonsActions:"buttonsActions"},decls:1,vars:4,consts:[[3,"columns","dataSource","buttonsActions","loading"]],template:function(e,t){1&e&&a._UZ(0,"app-generic-table",0),2&e&&a.Q6J("columns",t.columns)("dataSource",t.dataSource)("buttonsActions",t.buttonsActions)("loading",t.loading)},directives:[O.p],styles:[""]}),e})(),$=(()=>{class e{constructor(e,t,s,o){this.router=e,this.projectService=t,this.r=s,this.dialog=o,this.loading=!0,this.buttonsColumns=[{header:"Testers",property:"testers",display:_.s.id,type:S.Q.Button},{header:"Developers",property:"devs",display:_.s.id,type:S.Q.Button},{header:"Edit Name",property:"edit",display:_.s.id,type:S.Q.Button},{header:"Delete",property:"delete",display:_.s.id,type:S.Q.Button}],this.buttonsActions=new Map([["testers",{text:()=>"Testers",onClick:e=>{this.tester(e)},color:()=>"accent"}],["devs",{text:()=>"Developers",onClick:e=>{this.developers(e)},color:()=>"accent"}],["edit",{text:()=>"Edit",onClick:e=>{this.edit(e)},color:()=>"primary"}],["delete",{text:()=>"Delete",onClick:e=>{this.delete(e)},color:()=>"warn"}]])}edit(e){this.router.navigate(["../project"],{relativeTo:this.r,queryParams:{id:String(e.id)}})}tester(e){this.router.navigate(["../project/testers"],{relativeTo:this.r,queryParams:{id:String(e.id)}})}developers(e){this.router.navigate(["../project/devs"],{relativeTo:this.r,queryParams:{id:String(e.id)}})}delete(e){this.dialog.open(Y.F).afterClosed().subscribe(t=>{t&&this.projectService.deleteProject(e.id).subscribe(e=>{this.loadProjects()},e=>{})})}createProject(){this.router.navigate(["../project"],{relativeTo:this.r})}ngOnInit(){this.loadProjects()}loadProjects(){this.loading=!0,this.projectService.getProjects().subscribe(e=>{this.loading=!1,this.dataSource=e},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.F0),a.Y36(E.m),a.Y36(n.gz),a.Y36(F.uw))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-projects"]],decls:3,vars:4,consts:[["type","submit","mat-flat-button","",3,"click"],[3,"dataSource","buttonsColumns","buttonsActions","loading"]],template:function(e,t){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return t.createProject()}),a._uU(1,"Create new project\n"),a.qZA(),a._UZ(2,"app-projects-table",1)),2&e&&(a.xp6(2),a.Q6J("dataSource",t.dataSource)("buttonsColumns",t.buttonsColumns)("buttonsActions",t.buttonsActions)("loading",t.loading))},directives:[Z.lW,D],styles:["button[_ngcontent-%COMP%]{margin-left:3%;margin-top:1%;background-color:#4caf50;color:#fff}"]}),e})();var X=s(994);let L=(()=>{class e{constructor(){this.adminMenuItems=[{path:"/admin/bugs",title:"Bugs",icon:"bug_report"},{path:"/admin/add-user",title:"Add User",icon:"person_add"},{path:"/admin/projects",title:"Projects",icon:"list_alt"},{path:"/admin/assignments",title:"Assignments",icon:"assignment"},{path:"/admin/devs-scoreboard",title:"Bugs Scoreboard",icon:"check_circle_outline"},{path:"/admin/bug-import-classic",title:"Bug Import Classic",icon:"code"},{path:"/admin/bug-import-custom",title:"Bug Import Custom",icon:"upload"}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-admin"]],decls:2,vars:1,consts:[[3,"menuItems"]],template:function(e,t){1&e&&(a.TgZ(0,"app-nav",0),a._UZ(1,"router-outlet"),a.qZA()),2&e&&a.Q6J("menuItems",t.adminMenuItems)},directives:[X.r,n.lC],styles:[""]}),e})();var G=s(2230);let z=(()=>{class e{constructor(e,t){this.service=e,this.route=t,this.buttonsColumns=[{header:"Project",property:"change",display:_.s.id,type:S.Q.Button}],this.buttonsActions=new Map([["change",{text:e=>this.getButtonText(e),onClick:e=>{this.changeProjectParticipance(e)},color:e=>this.getButtonColor(e)}]]),this.userOnProject=[]}changeProjectParticipance(e){this.userInProject(e)?this.removeDevToProject(e):this.addDevToProject(e)}getButtonColor(e){return this.userInProject(e)?"warn":"primary"}getButtonText(e){return this.userInProject(e)?"Remove":"Add"}userInProject(e){return null!=this.userOnProject.find(t=>t.id==e.id)}addDevToProject(e){this.service.addDevToProject(this.projectId,e.id||1).subscribe(e=>{this.updateDevelopers()})}removeDevToProject(e){this.service.removeDevFromProject(this.projectId,e.id||1).subscribe(e=>{this.updateDevelopers()})}ngOnInit(){this.projectId=this.route.snapshot.queryParams.id,this.updateDevelopers()}updateDevelopers(){this.service.getDevelopers(this.projectId).subscribe(e=>{this.userOnProject=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(E.m),a.Y36(n.gz))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-devs-project"]],decls:1,vars:2,consts:[[3,"buttonsActions","buttonsColumns"]],template:function(e,t){1&e&&a._UZ(0,"app-devs-scoreboard",0),2&e&&a.Q6J("buttonsActions",t.buttonsActions)("buttonsColumns",t.buttonsColumns)},directives:[U],styles:[""]}),e})(),H=(()=>{class e{constructor(e,t){this.route=e,this.service=t,this.showCancelButton=!0,this.loading=!0,this.infoMessage={error:!0,text:""},this.form=new i.cw({name:new i.NI("",[i.kI.required])}),this.project={name:""}}ngOnInit(){this.id=this.route.snapshot.queryParams.id,null!=this.id&&this.getProject(this.id),this.project.name="",this.loading=!1}save(){null==this.id?this.createNewProject():this.editProject(this.id)}getProject(e){this.service.getProject(e).subscribe(e=>{this.project.name=e.name,this.loading=!1},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}createNewProject(){this.service.createProject(this.project).subscribe(e=>{this.loading=!1,this.infoMessage.error=!1,this.infoMessage.text=`Project "${this.project.name}" added successfully`,this.project.name="",this.form.markAsUntouched()},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}editProject(e){this.service.editProject(this.project,e).subscribe(e=>{this.loading=!1,this.infoMessage.error=!1,this.infoMessage.text=`Project "${this.project.name}" edited successfully`},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.gz),a.Y36(E.m))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-create-project"]],decls:8,vars:7,consts:[["title","Project",3,"form","showCancelButton","infoMessage","loading","save"],[3,"formGroup","keydown.enter"],["appearance","fill",1,"full-width"],["maxlength","30","matInput","","formControlName","name","required","","placeholder","Ex. Project X",3,"ngModel","ngModelChange"],["align","end"]],template:function(e,t){1&e&&(a.TgZ(0,"app-generic-form",0),a.NdJ("save",function(){return t.save()}),a.TgZ(1,"form",1),a.NdJ("keydown.enter",function(){return t.save()}),a.TgZ(2,"mat-form-field",2),a.TgZ(3,"mat-label"),a._uU(4,"Enter project name"),a.qZA(),a.TgZ(5,"input",3),a.NdJ("ngModelChange",function(e){return t.project.name=e}),a.qZA(),a.TgZ(6,"mat-hint",4),a._uU(7),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("form",t.form)("showCancelButton",t.showCancelButton)("infoMessage",t.infoMessage)("loading",t.loading),a.xp6(1),a.Q6J("formGroup",t.form),a.xp6(4),a.Q6J("ngModel",t.project.name),a.xp6(2),a.hij("",t.project.name.length," / 30"))},directives:[m.t,i._Y,i.JL,i.sg,g.KE,g.hX,h.Nt,i.Fj,i.nD,i.JJ,i.u,i.Q7,g.bx],styles:[".full-width[_ngcontent-%COMP%]{display:block;width:95%;margin:3% auto 0}mat-hint[_ngcontent-%COMP%]{margin-bottom:24%}"]}),e})(),K=(()=>{class e{constructor(e){this.http=e,this.endpoint=`${l.N.webApi_origin}/testers`,this.options={headers:{token:"",path:""}}}getTesters(){return this.options.headers.token=localStorage.getItem("token")||"",this.http.get(this.endpoint,this.options).pipe((0,c.K)(u.k.handleError))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(p.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),V=(()=>{class e{constructor(e,t,s){this.service=e,this.route=t,this.testersService=s,this.dataSource=[],this.loading=!0,this.columns=[{header:"Username",property:"username",display:_.s.id,type:S.Q.Object},{header:"Name",property:"name",display:_.s.id,type:S.Q.Object},{header:"Lastname",property:"lastname",display:_.s.id,type:S.Q.Object},{header:"Email",property:"email",display:_.s.id,type:S.Q.Object},{header:"Cost",property:"cost",display:_.s.CostPerHour,type:S.Q.Object},{header:"Project",property:"change",display:_.s.id,type:S.Q.Button}],this.buttonsActions=new Map([["change",{text:e=>this.getButtonText(e),onClick:e=>{this.changeProjectParticipance(e)},color:e=>this.getButtonColor(e)}]])}changeProjectParticipance(e){this.userInProject(e)?this.removeTesterFromProject(e):this.addTesterToProject(e)}getButtonColor(e){return this.userInProject(e)?"warn":"primary"}getButtonText(e){return this.userInProject(e)?"Remove":"Add"}userInProject(e){return null!=this.userOnProject.find(t=>t.id==e.id)}addTesterToProject(e){this.service.addTesterToProject(this.projectId,e.id||0).subscribe(e=>{this.updateTesters()})}removeTesterFromProject(e){this.service.removeTesterFromProject(this.projectId,e.id||0).subscribe(e=>{this.updateTesters()})}ngOnInit(){this.projectId=this.route.snapshot.queryParams.id,this.testersService.getTesters().subscribe(e=>{this.loading=!1,this.dataSource=e},e=>{this.loading=!1}),this.updateTesters()}updateTesters(){this.service.getTesters(this.projectId).subscribe(e=>{this.userOnProject=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(E.m),a.Y36(n.gz),a.Y36(K))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-tester-project"]],decls:1,vars:4,consts:[[3,"columns","dataSource","buttonsActions","loading"]],template:function(e,t){1&e&&a._UZ(0,"app-generic-table",0),2&e&&a.Q6J("columns",t.columns)("dataSource",t.dataSource)("buttonsActions",t.buttonsActions)("loading",t.loading)},directives:[O.p],styles:[""]}),e})();var R=s(1212),W=s(6410);function ee(e,t){if(1&e&&(a.TgZ(0,"mat-option",11),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.Q6J("value",e.id),a.xp6(1),a.hij("",e.name," ")}}const te=[{path:"",component:L,children:[{path:"",redirectTo:"bugs"},{path:"bugs",component:r.$},{path:"add-user",component:A},{path:"projects",component:$},{path:"devs-scoreboard",component:U},{path:"bug-import-classic",component:v},{path:"bug-import-custom",component:Q},{path:"bug",component:G.n},{path:"project/devs",component:z},{path:"project/testers",component:V},{path:"project",component:H},{path:"assignments",component:(()=>{class e{constructor(e,t,s,o){this.router=e,this.r=t,this.dialog=s,this.serviceAssignments=o}ngOnInit(){}createAssignment(){this.router.navigate(["../assignment"],{relativeTo:this.r})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.F0),a.Y36(n.gz),a.Y36(F.uw),a.Y36(R.Y))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-assignments-with-create"]],decls:3,vars:0,consts:[["type","submit","mat-flat-button","",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return t.createAssignment()}),a._uU(1,"Create new assignment\n"),a.qZA(),a._UZ(2,"app-assignments-table"))},directives:[Z.lW,W.h],styles:["button[_ngcontent-%COMP%]{margin-left:3%;margin-top:1%;background-color:#4caf50;color:#fff}"]}),e})()},{path:"assignment",component:(()=>{class e{constructor(e,t,s){this.route=e,this.projectService=t,this.assignmentService=s,this.loading=!1,this.infoMessage={error:!0,text:""},this.form=new i.cw({name:new i.NI("",[i.kI.required]),time:new i.NI("",[i.kI.required]),project:new i.NI("",[i.kI.required]),cost:new i.NI("",[i.kI.required])}),this.projects=[],this.assignment={name:"",time:0,cost:0,projectId:0,projectName:""}}ngOnInit(){this.loadProjects(),this.loadAssignment()}loadProjects(){this.projectService.getProjects().subscribe(e=>{this.loading=!1,this.projects=e,0==this.projects.length&&(this.infoMessage={error:!0,text:"You don't have any assigned projects yet"})},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=`Problem loading projects: ${e}`})}loadAssignment(){let e=this.route.snapshot.queryParams.id;null!=e&&this.assignmentService.getAssignment(e).subscribe(e=>{this.loading=!1,this.assignment=e,this.selectedProjectId=this.assignment.projectId},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=`Problem loading bug: ${e}`})}save(){var e;this.loading=!0,this.assignment.projectId=this.selectedProjectId,this.assignment.projectName=(null===(e=this.projects.find(e=>e.id==this.selectedProjectId))||void 0===e?void 0:e.name)||"",this.createAssignment()}createAssignment(){this.assignmentService.createAssignment(this.assignment).subscribe(e=>{this.loading=!1,this.infoMessage.error=!1,this.infoMessage.text=`Assignment "${this.assignment.name}" added successfully`,this.assignment.name="",this.assignment.cost=0,this.assignment.time=0,this.form.markAsUntouched()},e=>{this.loading=!1,this.infoMessage.error=!0,this.infoMessage.text=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.gz),a.Y36(E.m),a.Y36(R.Y))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-create-assignment"]],decls:27,vars:10,consts:[["title","Create new assignment",3,"form","infoMessage","loading","save"],[3,"formGroup","keydown.enter"],["appearance","fill",1,"full-width"],["formControlName","project","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["maxlength","60","matInput","","formControlName","name","required","","placeholder","Ex. assignment 1",3,"ngModel","ngModelChange"],["align","end"],["matInput","","formControlName","cost","type","number","min","1","max","999","required","","placeholder","1",3,"ngModel","ngModelChange"],["matPrefix",""],["matSuffix",""],["matInput","","formControlName","time","type","number","min","1","max","999","required","","placeholder","1",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(a.TgZ(0,"app-generic-form",0),a.NdJ("save",function(){return t.save()}),a.TgZ(1,"form",1),a.NdJ("keydown.enter",function(){return t.save()}),a.TgZ(2,"mat-form-field",2),a.TgZ(3,"mat-label"),a._uU(4,"Choose project"),a.qZA(),a.TgZ(5,"mat-select",3),a.NdJ("ngModelChange",function(e){return t.selectedProjectId=e}),a.YNc(6,ee,2,2,"mat-option",4),a.qZA(),a.qZA(),a.TgZ(7,"mat-form-field",2),a.TgZ(8,"mat-label"),a._uU(9,"Enter assignment name"),a.qZA(),a.TgZ(10,"input",5),a.NdJ("ngModelChange",function(e){return t.assignment.name=e}),a.qZA(),a.TgZ(11,"mat-hint",6),a._uU(12),a.qZA(),a.qZA(),a.TgZ(13,"mat-form-field",2),a.TgZ(14,"mat-label"),a._uU(15,"Cost"),a.qZA(),a.TgZ(16,"input",7),a.NdJ("ngModelChange",function(e){return t.assignment.cost=e}),a.qZA(),a.TgZ(17,"span",8),a._uU(18,"$\xa0"),a.qZA(),a.TgZ(19,"span",9),a._uU(20,"/hr"),a.qZA(),a.qZA(),a.TgZ(21,"mat-form-field",2),a.TgZ(22,"mat-label"),a._uU(23,"Time"),a.qZA(),a.TgZ(24,"input",10),a.NdJ("ngModelChange",function(e){return t.assignment.time=e}),a.qZA(),a.TgZ(25,"span",9),a._uU(26,"hs"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("form",t.form)("infoMessage",t.infoMessage)("loading",t.loading),a.xp6(1),a.Q6J("formGroup",t.form),a.xp6(4),a.Q6J("ngModel",t.selectedProjectId),a.xp6(1),a.Q6J("ngForOf",t.projects),a.xp6(4),a.Q6J("ngModel",t.assignment.name),a.xp6(2),a.hij("",t.assignment.name.length," / 60"),a.xp6(4),a.Q6J("ngModel",t.assignment.cost),a.xp6(8),a.Q6J("ngModel",t.assignment.time))},directives:[m.t,i._Y,i.JL,i.sg,g.KE,g.hX,j.gD,i.JJ,i.u,i.Q7,o.sg,h.Nt,i.Fj,i.nD,g.bx,i.wV,i.qQ,i.Fd,g.qo,g.R9,w.ey],styles:[".full-width[_ngcontent-%COMP%]{display:block;width:95%;margin:3% auto 0}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:3%;margin-bottom:3%;margin-left:3%}"]}),e})()}]}];let se=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.Bz.forChild(te)],n.Bz]}),e})();var oe=s(9015),ne=s(4785);let re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.ez,se,oe.h,ne.K]]}),e})()}}]);